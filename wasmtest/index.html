<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>

<head>
  <meta charset="utf-8" />
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
    integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  <script src="https://use.fontawesome.com/47de3a5ce8.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.2/pako.min.js"></script>
  <script src="wasm_exec.js"></script>
  <script>
    (async function loadAndRunGoWasm() {
      const go = new Go();
      const buffer = pako.ungzip(await (await fetch("test.wasm.gz")).arrayBuffer());

      // A fetched response might be decompressed twice on Firefox.
      // See https://bugzilla.mozilla.org/show_bug.cgi?id=610679
      if (buffer[0] === 0x1f && buffer[1] === 0x8b) {
        buffer = pako.ungzip(buffer);
      }

      WebAssembly.instantiate(buffer, go.importObject).then((result) => {
        go.run(result.instance);
      });
    })();
  </script>
</head>

<body>
  <div>Welcome to tailscale ssh! Note that this is a static page running 100% in your browser</div>
  <div>That said you shouldn't trust me and definitely should not sign in to your tailscale network on this random
    website</div>
  <div id=topbar style='padding: 5px'>
    <div>Step 1: Run tsshd on server</div>
    <div>Step 2: Connect to tailscale (wait for QR to load):</div>
  </div>
  <hr>
  <div><span id='loginURL'></span></div>
  <div class="term">
    <div class="inner"></div>
  </div>
  <div id=netmap></div>
  <link rel="stylesheet" href="https://unpkg.com/xterm@4.15.0-beta.10/css/xterm.css" />
  <style>
    .xterm-viewport.xterm-viewport {
      scrollbar-width: thin;
    }

    .xterm-viewport::-webkit-scrollbar {
      width: 10px;
    }

    .xterm-viewport::-webkit-scrollbar-track {
      opacity: 0;
    }

    .xterm-viewport::-webkit-scrollbar-thumb {
      min-height: 20px;
      background-color: #ffffff20;
    }
  </style>
  <script src="https://unpkg.com/xterm@4.15.0-beta.10/lib/xterm.js"></script>
  <script src="https://unpkg.com/xterm-addon-webgl@0.12.0-beta.15/lib/xterm-addon-webgl.js"></script>
  <script src="dist/main.js"></script>
</body>

</html>
